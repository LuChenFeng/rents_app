<view class="content"><scroll-view class="msg-list" scroll-y="true" scroll-with-animation="{{scrollAnimation}}" scroll-top="{{scrollTop}}" scroll-into-view="{{scrollToView}}" upper-threshold="50" data-event-opts="{{[['scrolltoupper',[['loadHistory',['$event']]]]]}}" bindscrolltoupper="__e"><view class="loading"><view class="spinner"><view class="rect1"></view><view class="rect2"></view><view class="rect3"></view><view class="rect4"></view><view class="rect5"></view></view></view><block wx:for="{{privateMassagerList}}" wx:for-item="value" wx:for-index="index" wx:key="index"><view class="row" id="{{'message'+index}}"><block wx:if="{{value.from.id!=receive_id}}"><view class="my"><view class="left"><view class="username"><view class="time">{{value.time}}</view><view class="name">{{value.from.name}}</view></view><chat-message vue-id="{{'1-'+index}}" row="{{value}}" bind:__l="__l"></chat-message></view><view class="right"><image class="figureurl" src="{{value.from.avatar}}"></image></view></view></block><block wx:else><view class="other"><view class="left"><image class="figureurl" src="{{value.from.avatar}}"></image></view><view class="right"><view class="username"><view class="name">{{value.from.name}}</view><view class="time">{{value.time}}</view></view><chat-message vue-id="{{'2-'+index}}" row="{{value}}" bind:__l="__l"></chat-message></view></view></block></view></block></scroll-view><view class="{{['input-box',popupLayerClass]}}"><view class="textbox"><view class="{{['text-mode',isVoice?'hidden':'']}}"><view class="box"><textarea auto-height="true" cursor="{{cursor}}" data-event-opts="{{[['blur',[['textareaBlurEvent',['$event']]]]]}}" value="{{textMsg}}" bindblur="__e"></textarea></view></view></view><view data-event-opts="{{[['tap',[['sendText',['$event']]]]]}}" class="{{['send',isVoice?'hidden':'']}}" bindtap="__e"><view class="btn">发送</view></view></view></view>